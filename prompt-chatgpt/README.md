# OpenAI GPT-3 Chat Completion Function

**Warning:** This function uses the OpenAI API, which is a paid service. You will be charged for each request made to the API. For more information, see the [OpenAI pricing page](https://openai.com/pricing/).

This function enables the interaction with OpenAI's GPT-3 model in a chat-like format. Users send a request with a prompt and receive a text response generated by the model. Additionally, there's a simple GET endpoint that serves an HTML page.

## Environment Variables

To ensure the function operates as intended, ensure the following variables are set:

- **OPENAI_API_KEY**: This is your OpenAI API key.
- **OPENAI_MAX_TOKENS**: This is the maximum number of tokens that the OpenAI response should contain. Be aware that OpenAI models read and write a maximum number of tokens per API call, which varies depending on the model. For GPT-3.5-turbo, the limit is 4096 tokens.

## Usage

This function supports two types of requests:

1. **Serving the HTML page**

   - **Request Type:** GET
   - **Response:** 
     - On success, the function will respond with the HTML file contained in the static folder.

2. **Interacting with the GPT-3 Model**

   - **Request Type:** POST
   - **Body:** 
     - The text string that is used as a prompt for the model.
   - **Response:** 
     - On success, the function will respond with the text generated by the GPT-3 model.
     - If the request body is missing, a 400 error will be returned with the message 'Missing body with a prompt.'

## Example

Here's a simple example of how to use the POST endpoint:

**Request:**

```
POST / HTTP/1.1
Host: function-host
Content-Type: text/plain

"What is the weather like today?"
```

**Response:**

```json
{
  "role": "assistant",
  "content": "As an AI model, I don't have real-time data capabilities, so I'm unable to provide the current weather. However, you can check a reliable weather website or app for this information."
}
```

Note: The response can vary as it is generated by the AI model based on the input prompt.